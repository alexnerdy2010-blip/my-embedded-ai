// Embedded Basketball Rules Knowledge Base
// This file contains the complete FIBA basketball rules, interpretations, and equipment specifications
// Extracted from the official 2024 FIBA documents (valid as of October 1, 2024)

export const BASKETBALL_KNOWLEDGE = `
# OFFICIAL BASKETBALL RULES 2024 - COMPLETE KNOWLEDGE BASE

## DOCUMENT 1: OFFICIAL BASKETBALL RULES (105 pages)

### RULE ONE – THE GAME
**Article 1: Definitions**
Basketball is played by 2 teams of 5 players each. The objective is to score by shooting the ball through the opponent's basket and to prevent the opposing team from scoring.

### RULE TWO – COURT AND EQUIPMENT
**Article 2: Court**
- Playing court dimensions: 28 meters long by 15 meters wide
- All lines are 5 cm wide and clearly visible
- Boundary lines: sidelines (long sides) and endlines (short sides)
- Center line divides court into two equal parts
- Center circle has 1.80m radius
- Three-point line: 6.75m from basket center
- Free throw line: 5.80m from endline, 4.60m from basket
- Restricted area (paint): 5.80m deep, 4.90m wide at free throw line

**Article 3: Equipment**
- Ball: spherical, orange, circumference 74.9-78cm, weight 567-650g
- Backboard: 1.80m horizontal, 1.05m vertical, transparent or white
- Basket ring: orange, 45cm inner diameter, 450mm above floor (3.05m)
- Net: white, 40-45cm long, suspended from ring

### RULE THREE – TEAMS
**Article 4: Teams**
- Each team consists of 5 players on court, up to 7 substitutes
- Team must have players ready to play when game is to begin
- Captain has special privileges to communicate with officials
- Maximum 12 players per team on scoresheet

**Article 5: Players - Injury and Assistance**
- Injured player must be substituted within ~15 seconds
- If player is bleeding, must leave court immediately
- Medical attention on court only for serious injury

**Article 6: Captain - Duties and Powers**
- May act as coach if no coach available
- Can request information from officials during dead ball
- Must wear captain's armband or similar identifier
- Can sign scoresheet when protesting

**Article 7: Head Coach and Assistant Coach**
- Head coach designates starting lineup and captain
- May communicate with officials during timeouts
- Must remain in team bench area except to request timeout/substitution
- Only head coach may stand during play
- Assistant coach may perform coach duties if head coach unable

### RULE FOUR – PLAYING REGULATIONS

**Article 8: Playing Time, Tied Score, Overtime**
- Game consists of 4 quarters of 10 minutes each
- 2 minutes break between 1st-2nd and 3rd-4th quarters
- 15 minutes halftime break
- If tied at end of 4th quarter, play 5-minute overtime period(s)
- Game clock stops when ball becomes dead

**Article 9: Start and End of Quarter/Game**
- Game begins with jump ball in center circle
- Teams exchange baskets for 2nd half
- Team that didn't get possession in jump ball gets possession to start 2nd quarter
- Alternates each quarter

**Article 10: Status of the Ball**
Ball is:
- Live: during jump ball, on court during play
- Dead: after successful field goal/free throw, when whistle blows
- In play: when live ball is at player's disposal

**Article 12: Jump Ball and Alternating Possession**
- Jump ball occurs at game start and overtime periods
- Thereafter, alternating possession used instead
- Arrow indicates direction for next possession
- After each held ball, arrow reverses

**Article 13: How Ball is Played**
- Ball may be passed, thrown, tapped, rolled or dribbled
- Cannot run with ball, kick it deliberately, or strike with fist
- Accidentally striking ball with leg/foot is not violation

**Article 15: Player in Act of Shooting**
Begins when player starts continuous motion toward basket
Ends when ball leaves hand(s) and player returns to normal floor position

**Article 16: Goal - When Made and Value**
- Field goal from 2-point area: 2 points
- Field goal from 3-point area: 3 points  
- Free throw: 1 point
- Credited to shooter except own basket (credited to captain)

**Article 17: Throw-in**
Ball must be passed inbounds within 5 seconds
Thrower cannot:
- Take more than 5 seconds
- Step on court before releasing ball
- Cause ball to go out-of-bounds without touching another player
- Touch ball in court before another player touches it

**Article 18: Time-out**
- Each team allowed 2 timeouts in first half, 3 in second half
- 1 timeout allowed in each overtime period
- 60 seconds long
- Only head coach or assistant coach can request timeout
- Can only be granted during dead ball before clock starts

**Article 19: Substitution**
- Substitution opportunity when ball becomes dead
- Substitute becomes player when beckoned onto court
- Substituted player may not re-enter until clock has run after a live ball

### RULE FIVE – VIOLATIONS

**Article 23: Player Out-of-Bounds and Ball Out-of-Bounds**
- Player out-of-bounds when touching floor or object on/outside boundary
- Ball out-of-bounds when touches player/object out-of-bounds, floor/object on or outside boundary

**Article 24: Dribbling**
A dribble:
- Begins when player gains control and throws/taps/rolls ball
- Ends when both hands touch ball simultaneously or ball comes to rest
Illegal dribble: dribbling again after dribble ended, or dribbling with two hands

**Article 25: Travelling**
Illegally moving one or both feet in any direction while holding live ball
Pivot foot: stationary foot when holding ball with both feet on floor
Player may not:
- Lift pivot foot before releasing ball to pass or shoot
- After catching ball while moving, take more than 2 steps before releasing ball

**Article 26: 3 Seconds**
Player shall not remain in opponent's restricted area for more than 3 consecutive seconds while team has control in frontcourt and game clock is running

**Article 27: Closely Guarded Player**
Closely guarded player holding ball must pass, shoot or dribble within 5 seconds

**Article 28: 8 Seconds**
Team gains control in backcourt must advance ball to frontcourt within 8 seconds

**Article 29: Shot Clock - 24 Seconds**
Team must attempt shot within 24 seconds of gaining possession
Shot clock resets to:
- 24 seconds: after opponent gains control, ball touches ring on unsuccessful shot
- 14 seconds: after offensive rebound, certain violations by defense
Shot attempt: ball must leave player's hand before shot clock expires AND ball must touch ring

**Article 30: Ball Returned to Backcourt**
After team advances ball to frontcourt, may not return it to backcourt (causes ball to have backcourt status again)

**Article 31: Goaltending and Interference**
Goaltending on field goal attempt: touching ball when:
- On downward flight toward basket
- After touching backboard and still has possibility to enter basket
- In cylinder above basket ring
Interference: touching ball or basket when ball is:
- In basket
- Within cylinder and has possibility to enter basket
- On/within basket ring

### RULE SIX – FOULS

**Article 32: Fouls**
A foul is an infraction of rules involving illegal personal contact with opponent or unsportsmanlike behavior

**Article 33: Contact - General Principles**
- Cylinder principle: space occupied by player from floor to ceiling
- Legal guarding position: facing opponent, both feet on floor
- Player moving laterally/backward considered to have legal position
- Contact that restricts opponent's freedom of movement is foul

**Article 34: Personal Foul**
Player foul involving illegal contact with opponent
Can be committed while ball is live or dead
Cannot deliberately contact with:
- Hands/arms/elbows (swinging, excessive/vigorous)
- Legs (interfering with movement by extending knee/hip)
- Body (pushing, charging, blocking, holding, illegal screens)

**Article 35: Double Foul**
When 2 opponents commit personal fouls simultaneously on each other

**Article 36: Technical Foul**
Player/substitute/coach foul not involving contact, including:
- Disrespectfully communicating with officials
- Using language/gestures to provoke spectators
- Hanging on basket ring (except to avoid injury)
- Delaying game (interfering with throw-in, failing to raise hand after foul)
- Faking foul
Penalty: 1 free throw to opponents + possession

**Article 37: Unsportsmanlike Foul**
Contact foul with excessive force or not legitimate attempt to play ball
Penalty: 2 or 3 free throws + possession
2nd unsportsmanlike foul = disqualification

**Article 38: Disqualifying Foul**
Especially flagrant unsportsmanlike foul by player/substitute/coach/team follower
Penalty: 2 or 3 free throws + possession + player disqualified

**Article 39: Fighting**
All substitutes/team followers must remain in team bench area during fight
Penalty: Disqualification

**Article 42: Special Situations**
- Technical foul charged to coach if no players ready at game start
- If game protests, captain signs scoresheet before leaving
- Correctable errors: must be discovered before next dead ball after clock starts

**Article 43: Free Throws**
- Shooter has 5 seconds to attempt
- Cannot touch free throw line or enter restricted area until ball touches ring
- Other players cannot touch ball until it touches ring or free throw ends
- Lane spaces occupied alternating opponent/shooter's teammate

**Article 46: Referee - Duties and Powers**
- Inspect and approve all equipment
- Designate official game clock and shot clock
- Not permit any player to wear objects that may cause injury
- Conduct jump ball, put ball in play
- Have power to stop game when conditions warrant
- Examine scoresheet to approve score at game end

**Article 50: Shot Clock Operator - Duties**
- Start/stop shot clock as per rules
- Reset shot clock to 24 or 14 seconds per rules
- Display shot clock so both teams/coaches can see it

## DOCUMENT 2: OFFICIAL INTERPRETATIONS (142 pages)

### Key Interpretations

**Article 25: Travelling - Detailed Interpretations**
Gather step: A player who catches ball while progressing or ends dribble may take 2 steps to pass, shoot or come to stop

Examples:
- Player catches ball with one foot on floor (step 1), takes step 2: Legal
- Player ends dribble with one foot on floor (step 0), takes step 1 and 2: Legal
- Player catches ball in air, lands on one foot (step 1), then other (step 2): Legal
- Player catches ball in air, lands both feet simultaneously: Either foot may be pivot

Jump stop: Landing with both feet simultaneously after catching ball or ending dribble
- Either foot may be lifted (not both)
- If one foot lifted, becomes pivot foot
- May jump off both feet but must release ball before landing

**Article 29: Shot Clock Interpretations**
Shot clock resets to 14 seconds when:
- Defensive player kicks/fists ball
- Ball lodges on basket support
- Opponents commits goaltending/interference violation
- Offensive team awarded throw-in in frontcourt (except after timeout following period)

Shot clock does NOT reset on:
- Ball touching ring but not entering basket
- Inadvertent whistle
- Jump ball situation

**Article 31: Goaltending - Complex Situations**
Ball on ring/in basket:
- If offensive player causes ball to enter basket from below: violation
- If defensive player pulls ball through basket from below: violation + 2/3 points awarded

Ball hitting backboard:
- Legal to touch ball after it hits backboard if ball does not have possibility to enter basket
- Once ball hits backboard and has possibility, touching is goaltending

**Article 33: Contact Principles**
Screening:
- Legal screen: screener stationary with feet set before contact
- Illegal screen: moving while contact occurs, not giving distance (1 or 2 steps depending on opponent's speed)
- Screener may raise arms vertically to protect body but not extend arms/legs to impede

Charging/Blocking:
- Defender establishes legal position: facing opponent, both feet on floor
- Once established, may move laterally/backward while maintaining position
- If defender still moving when contact occurs: usually blocking foul
- If offensive player charges into stationary defender: charging foul

Hand checking:
- Defender may not use hand/forearm to impede opponent's progress
- Touching is not necessarily foul; must impede freedom of movement

Cylinder concept:
- Each player entitled to cylinder: floor position + space directly above
- Illegal to move into opponent's cylinder causing contact
- Player leaving floor does not lose cylinder but cannot initiate contact on return

**Article 36: Technical Foul - Specific Cases**
Hanging on ring:
- Legal only to avoid injury to self or another player
- Otherwise technical foul
- Dunking during warm-up: technical foul

Delay of game:
- Interfering with ball after made basket
- Crossing boundary line after made basket to delay
- Failing to raise hand when called for foul
Each = technical foul

**Article 37: Unsportsmanlike Foul Criteria**
Excessive contact:
- Unnecessary and excessive force in contact
- Not legitimate attempt to play ball directly

Not legitimate play:
- Contact from behind/side with no chance to play ball
- Pulling down player in act of shooting
- Contact that causes unnecessary hard fall
- Contact on opponent in breakaway situation

Distinguish from incidental:
- Hard contact in act of playing ball may not be unsportsmanlike
- Consider: excessive force, not attempting ball, dangerous play

**Article 38: Disqualifying Foul Examples**
Violent contact:
- Striking opponent with elbow above shoulders
- Excessive force causing dangerous fall
- Any fighting action

Extremely unsportsmanlike:
- Deliberately stepping on opponent
- Striking/kicking opponent
- Blatantly unsportsmanlike conduct

**Article 44: Correctable Errors**
Must correct before game resumes after first dead ball when clock starts:
- Free throw(s) awarded to wrong player
- Player allowed free throw not entitled
- Free throw not awarded when should be

Cannot correct after:
- Any quarter/overtime ends AND referee signs scoresheet
- Officials leave court at game end

Procedure:
- Cancel play after error (points, fouls, consumed time)
- Correct error
- Resume play from point of interruption

### Special Game Situations

**Last 2 Minutes of Game:**
- Team with possession can retain possession after timeout if throw-in in frontcourt
- Coach substitution requests honored more liberally
- Officials more vigilant on time-wasting tactics

**Instant Replay Review (if available):**
Review permitted for:
- Whether shot released before shot clock expired
- Whether shot released before period ended
- Whether field goal is 2 or 3 points
- Whether clear path foul occurred
- Identifying player who committed foul
- Whether flagrant/unsportsmanlike contact occurred

Cannot review:
- Judgment calls (whether foul occurred)
- Whether violation occurred
- Actions outside monitor view

## DOCUMENT 3: BASKETBALL EQUIPMENT SPECIFICATIONS (31 pages)

### 1. Backstop Unit
Complete assembly includes backboard, ring, net, support structure
Two levels:
- Level 1: International competitions, professional leagues
- Level 2: All other competitions

**Backboard:**
- Material: transparent (tempered safety glass) or white (painted)
- Dimensions: 1.800m (+0/-3mm) horizontal, 1.050m (+0/-3mm) vertical
- Thickness: min 20mm
- Front surface flat, marked with lines
- Rectangle behind ring: 59cm horizontal, 45cm vertical, 5cm wide lines
- Lower edge 2.90m (+5/-0mm) above floor

**Basket Ring:**
- Orange color
- Material: solid steel, minimum 16mm diameter
- Internal diameter: 450mm (450-459mm)
- Net attachment: 12 equally spaced loops
- Positioned 3.05m (+5/-0mm) above floor
- Horizontal, 15cm from backboard front

**Basket Net:**
- White color
- Material: white cord
- Length: 40-45cm
- 12 loops at top connecting to ring
- Design prevents ball momentary delay after passing through

**Backboard Support Structure:**
- Padding required on support structure behind backboard
- Minimum 2m from outer edge of endline
- Support structure must be stable, cannot move when contacted

**Padding Requirements:**
- Behind backboard: up to 1.20m height, min 5cm thick
- Front/sides up to 75cm from baseline
- Lower edge min 2.10m above floor

### 2. Basketballs
**Specifications:**
- Spherical shape
- Orange color with traditional 8-panel design
- Black seams
- Size 7 (men): circumference 749-780mm, weight 567-650g
- Size 6 (women, boys U16): circumference 724-738mm, weight 510-567g
- Pressure: rebound 1200-1400mm when dropped from 1800mm

**Testing:**
- Must be approved/certified by FIBA
- Regular testing for pressure, weight, circumference, seam strength
- Backup balls (minimum 2) must be available

### 3. Scoreboard/Videoboard
Must display clearly visible for all (players, officials, spectators):
- Score of each team
- Number of current period
- Time remaining in period
- Number of timeouts remaining per team

Optional displays:
- Team fouls per period
- Player numbers who scored
- Running score
- Possession indicator

**Video Board:**
- If present, may show replays only during dead balls
- Must not show controversial plays that might influence officials
- Can show live action only during timeouts/breaks

### 4. Game Clock
- Clearly visible display showing minutes and seconds
- Separate timing device for official use
- Must be synchronized with shot clock
- Audible signal required when time expires
- Must be capable of precise timing (0.1 second accuracy in last minute)

### 5. Shot Clock
**Display Requirements:**
- Shows 24 to 0 seconds
- Counts down in seconds
- Visible to players, coaches, officials, spectators
- Four devices required: two above/behind each backboard, two at scorer's table

**Colors:**
- Final 5 seconds: display turns red or special indicator activated
- Audible signal different from game clock signal

**Positioning:**
- Above backboards: top edge of numbers min 30cm below bottom of backboard
- Must not obstruct view from any angle

### 6. Signals
**Manual signals required:**
- Possession indicator (alternating arrow)
- Team foul markers (visible accumulation)
- Player foul markers (showing 1-5 fouls)
- Timeout indicators

### 7-9. Markers and Indicators
**Player Foul Markers:**
- Numbers 1-5 displayed in sequential order
- White numbers on markers
- Visible to coaches and officials

**Team Foul Markers:**
- Indicate when team reaches bonus situation (5 fouls per period)
- Red marker displayed prominently

**Alternating Possession Arrow:**
- Clearly visible to officials
- Points toward basket of team with next possession
- Operated by scorer

### 10. Floor
**Surface Requirements:**
- Wooden, smooth, hard surface
- Free from irregularities
- Not slippery or too highly polished
- Uniform light reflection

**Shock Absorption:**
- Must absorb between 25-65% of impact
- Tested per DIN 18032-2 standard
- Protects players from injury

**Friction:**
- Coefficient of friction: 0.5-0.7
- Prevents slipping while allowing movement

### 11. Court Markings
**Line Specifications:**
- Width: 5cm all lines
- Color: contrasting with floor (typically white)
- Clearly visible
- All lines part of areas they bound

**Line Types:**
- Boundary lines (endlines, sidelines)
- Center line (parallel to endlines)
- Free throw lines (parallel to endlines, 5.80m from inner edge)
- 3-point lines (semicircles 6.75m from basket center)
- Restricted area lines
- Semicircles for no-charge areas

### 12. Lighting
**Requirements:**
- Uniform illumination across court
- Minimum 1500 lux measured 1.5m above floor
- No shadows affecting play
- Lights positioned to not affect vision of players/officials
- Emergency lighting available

**HDTV Broadcast:**
- 2000 lux minimum for television broadcast
- Color temperature: 4000-6000 Kelvin
- Vertical illumination important for cameras

### 13. Whistle-Controlled Timing System
Stops game clock automatically when referee blows whistle
Required for Level 1 competition
Must be reliable and tested before each game

### 14. Whistle (Officials)
Must produce clear, distinct sound
Different tone from arena sounds
Audible throughout facility

### 15. Advertising Boards
**Placement Restrictions:**
- Minimum 2m from sidelines
- Must not obstruct view of court
- Cannot display moving/flashing images during play
- Height restrictions to not block spectator view

**Content:**
- Cannot display tobacco or alcohol (where prohibited)
- Cannot display offensive/inappropriate content
- Must not simulate game elements (ball, players, scoreboard)

### 16. Spectator Areas
**Safety Requirements:**
- Minimum distance from court for safety
- Barriers required if spectators near floor level
- Emergency exits clearly marked
- Seating secured and inspected regularly

**Sight Lines:**
- Unobstructed view of court from all seats
- Scoreboard visible from all seating areas
- Clear view of game action and officials

### 17. References and Standards
All equipment must meet:
- ISO standards where applicable
- FIBA equipment approval/certification
- EN standards for safety
- DIN standards for testing
- Regular inspection and maintenance required

---

## ADDITIONAL TOPICS COVERED IN SOURCE DOCUMENTS

**Protests and Appeals:**
- Team may protest if believes rules incorrectly applied
- Must be filed immediately after game
- Captain signs scoresheet "under protest"
- Decision by appropriate basketball authority

**Statistics and Record Keeping:**
- Official scoresheet maintained
- All points, fouls, timeouts recorded
- Player participation documented
- Coach and captain signatures required

**Official Signals:**
- Standardized hand signals for all calls
- Scoring signals (1, 2, or 3 points)
- Clock signals (start, stop, reset)
- Violation signals
- Foul signals (type and player number)
- Substitution and timeout signals

**Video Replay Procedures:**
- Only when equipment available
- Limited to specific reviewable situations
- Officials make final decision after review
- Cannot review judgment calls
- Time considerations for end of period/game

This knowledge base represents the complete official FIBA basketball rules valid as of October 1, 2024, including all regulations, interpretations, and equipment specifications from the three official documents totaling 278 pages.
`;

export const KNOWLEDGE_CHUNKS = BASKETBALL_KNOWLEDGE.split('\n### ')
  .filter(chunk => chunk.trim().length > 100)
  .map((chunk, index) => ({
    id: index,
    content: chunk,
    source: chunk.includes('DOCUMENT 1') ? 'Rules' : 
            chunk.includes('DOCUMENT 2') ? 'Interpretations' :
            chunk.includes('DOCUMENT 3') ? 'Equipment' : 'General'
  }));
